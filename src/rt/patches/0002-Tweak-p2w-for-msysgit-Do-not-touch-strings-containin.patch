From 36b06837fb212034777f509bb2cf3bc97bb28bc1 Mon Sep 17 00:00:00 2001
From: Steffen Prohaska <prohaska@zib.de>
Date: Sat, 10 May 2008 20:29:10 +0200
Subject: [PATCH 02/18] Tweak p2w for msysgit: Do not touch strings containing
 \n, \r, or \t

---
 msys/rt/src/winsup/cygwin/path.cc | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/msys/rt/src/winsup/cygwin/path.cc b/msys/rt/src/winsup/cygwin/path.cc
index 1886914..7439c5f 100644
--- a/msys/rt/src/winsup/cygwin/path.cc
+++ b/msys/rt/src/winsup/cygwin/path.cc
@@ -3025,9 +3025,13 @@ msys_p2w (char const * const path)
 
   //
   // Just return win32 paths and path lists.
+  // Also return strings that obviously are no paths.
   //
   if (IsAbsWin32Path (path) 
       || (strchr (path, ';') > 0)
+      || (strchr (path, '\n') > 0)
+      || (strchr (path, '\r') > 0)
+      || (strchr (path, '\t') > 0)
       )
     {
       debug_printf("returning AbsWin32 path: %s", path);
-- 
1.9.4.msysgit.0

