From b07c8051157d8019fcf3be55b773dc100ead286f Mon Sep 17 00:00:00 2001
From: Steffen Prohaska <prohaska@zib.de>
Date: Sat, 10 May 2008 20:30:09 +0200
Subject: [PATCH 03/20] p2w for msysgit: Check if string starts with "." or "/"
 before considering it a pathlist

---
 msys/rt/src/winsup/cygwin/path.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/msys/rt/src/winsup/cygwin/path.cc b/msys/rt/src/winsup/cygwin/path.cc
index 7439c5f..1b84bf1 100644
--- a/msys/rt/src/winsup/cygwin/path.cc
+++ b/msys/rt/src/winsup/cygwin/path.cc
@@ -3138,6 +3138,8 @@ msys_p2w (char const * const path)
 	   // remember that this is a recursive routine.
 	   // 
 	   && (strchr ("-\"\'", spath[0]) == 0)
+	   // Prevent modification if string does not start with "." or "/".
+	   && (strchr ("./", spath[0]) > 0)
 	   // 
 	   // Prevent ``foo:echo /bar/baz'' from being considered a path list.
 	   // 
-- 
2.0.0.msysgit.0

